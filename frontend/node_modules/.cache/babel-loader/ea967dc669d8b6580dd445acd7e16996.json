{"ast":null,"code":"import _toConsumableArray from\"/home/mahdi/Desktop/online-shop-linux/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/mahdi/Desktop/online-shop-linux/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import\"../index.css\";import{useSelector,useDispatch}from'react-redux';import{detailsProduct}from'../actions/productActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProductScreen(props){var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var productDetails=useSelector(function(state){return state.productDetails;});var product=productDetails.product,loading=productDetails.loading,error=productDetails.error;var dispatch=useDispatch();useEffect(function(){dispatch(detailsProduct(props.match.params.id));return function(){};},[]);var handleAddToCart=function handleAddToCart(){props.history.push(\"/cart/\"+props.match.params.id+\"?qty=\"+qty);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"back-to-home\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Back To Results\"})}),loading?/*#__PURE__*/_jsx(\"div\",{children:\"loading..\"}):error?/*#__PURE__*/_jsx(\"div\",{children:error}):/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"details-image\",children:/*#__PURE__*/_jsx(\"img\",{src:product.urlImg,alt:\"product\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"details-info\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"h4\",{children:product.name})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"h4\",{children:product.description})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[product.price,\"$\"]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"details-action\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"Price: \",product.price,\"$\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Qty: \",/*#__PURE__*/_jsx(\"select\",{value:qty,onChange:function onChange(e){setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})]}),/*#__PURE__*/_jsx(\"li\",{children:product.countInStock>0?/*#__PURE__*/_jsx(\"button\",{onClick:handleAddToCart,className:\"add-cart-btn\",children:\"Add to cart\"}):/*#__PURE__*/_jsx(\"div\",{className:\"out-of-stock\",children:\"Not Available\"})})]})})]})]});}","map":{"version":3,"sources":["/home/mahdi/Desktop/online-shop-linux/frontend/src/screens/ProductScreen.js"],"names":["React","useEffect","useState","Link","useSelector","useDispatch","detailsProduct","ProductScreen","props","qty","setQty","productDetails","state","product","loading","error","dispatch","match","params","id","handleAddToCart","history","push","urlImg","name","description","price","e","target","value","Array","countInStock","keys","map","x"],"mappings":"kVAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,cAAP,CACA,OAAQC,WAAR,CAAqBC,WAArB,KAAuC,aAAvC,CACA,OAAQC,cAAR,KAA6B,2BAA7B,C,wFACA,cAAe,SAASC,CAAAA,aAAT,CAAuBC,KAAvB,CAA8B,CACzC,cAAsBN,QAAQ,CAAC,CAAD,CAA9B,wCAAOO,GAAP,eAAYC,MAAZ,eACA,GAAMC,CAAAA,cAAc,CAAGP,WAAW,CAAC,SAAAQ,KAAK,QAAEA,CAAAA,KAAK,CAACD,cAAR,EAAN,CAAlC,CACA,GAAOE,CAAAA,OAAP,CAAkCF,cAAlC,CAAOE,OAAP,CAAgBC,OAAhB,CAAkCH,cAAlC,CAAgBG,OAAhB,CAAyBC,KAAzB,CAAkCJ,cAAlC,CAAyBI,KAAzB,CACA,GAAMC,CAAAA,QAAQ,CAAGX,WAAW,EAA5B,CAEAJ,SAAS,CAAC,UAAI,CACVe,QAAQ,CAACV,cAAc,CAACE,KAAK,CAACS,KAAN,CAAYC,MAAZ,CAAmBC,EAApB,CAAf,CAAR,CACA,MAAO,WAAI,CAEV,CAFD,CAGH,CALQ,CAKP,EALO,CAAT,CAMA,GAAMC,CAAAA,eAAe,CAAE,QAAjBA,CAAAA,eAAiB,EAAI,CACvBZ,KAAK,CAACa,OAAN,CAAcC,IAAd,CAAmB,SAAWd,KAAK,CAACS,KAAN,CAAYC,MAAZ,CAAmBC,EAA9B,CAAiC,OAAjC,CAA0CV,GAA7D,EACH,CAFD,CAGA,mBACI,oCACI,YAAK,SAAS,CAAC,cAAf,uBACI,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,6BADJ,EADJ,CAIKK,OAAO,cAAE,kCAAF,CACRC,KAAK,cAAE,qBAAMA,KAAN,EAAF,cAED,aAAK,SAAS,CAAC,SAAf,wBACA,YAAK,SAAS,CAAC,eAAf,uBACI,YAAK,GAAG,CAAEF,OAAO,CAACU,MAAlB,CAA0B,GAAG,CAAC,SAA9B,EADJ,EADA,cAKA,YAAK,SAAS,CAAC,cAAf,uBACI,mCACI,iCACI,oBAAKV,OAAO,CAACW,IAAb,EADJ,EADJ,cAII,iCACI,oBAAKX,OAAO,CAACY,WAAb,EADJ,EAJJ,cAOI,iCACI,qBAAIZ,OAAO,CAACa,KAAZ,OADJ,EAPJ,GADJ,EALA,cAkBA,YAAK,SAAS,CAAC,gBAAf,uBACI,mCACI,gCACYb,OAAO,CAACa,KADpB,OADJ,cAII,2CACS,eAAQ,KAAK,CAAEjB,GAAf,CAAoB,QAAQ,CAAE,kBAACkB,CAAD,CAAK,CAACjB,MAAM,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAN,CAAuB,CAA3D,UACA,mBAAIC,KAAK,CAACjB,OAAO,CAACkB,YAAT,CAAL,CAA4BC,IAA5B,EAAJ,EAAwCC,GAAxC,CAA4C,SAAAC,CAAC,qBAC1C,eAAkB,KAAK,CAAEA,CAAC,CAAC,CAA3B,UAA+BA,CAAC,CAAC,CAAjC,EAAaA,CAAC,CAAC,CAAf,CAD0C,EAA7C,CADA,EADT,GAJJ,cAUI,oBACKrB,OAAO,CAACkB,YAAR,CAAqB,CAArB,cACA,eAAQ,OAAO,CAAEX,eAAjB,CAAkC,SAAS,CAAC,cAA5C,yBADA,cAEA,YAAK,SAAS,CAAC,cAAf,2BAHL,EAVJ,GADJ,EAlBA,GAPR,GADJ,CAmDH","sourcesContent":["import React ,{useEffect, useState} from 'react'\nimport { Link } from 'react-router-dom';\nimport \"../index.css\";\nimport {useSelector, useDispatch} from 'react-redux';\nimport {detailsProduct} from '../actions/productActions';\nexport default function ProductScreen(props) {\n    const [qty, setQty] = useState(1);\n    const productDetails = useSelector(state=>state.productDetails);\n    const {product, loading, error} = productDetails;\n    const dispatch = useDispatch();\n\n    useEffect(()=>{\n        dispatch(detailsProduct(props.match.params.id));\n        return ()=>{\n            \n        };\n    },[]);\n    const handleAddToCart= ()=>{\n        props.history.push(\"/cart/\" + props.match.params.id+\"?qty=\"+ qty)\n    }\n    return (\n        <div > \n            <div className=\"back-to-home\">\n                <Link to=\"/\">Back To Results</Link>\n            </div>\n            {loading? <div>loading..</div>:\n            error? <div>{error}</div>:\n            (\n                <div className=\"details\">\n                <div className=\"details-image\">\n                    <img src={product.urlImg} alt=\"product\">\n                    </img>\n                </div>\n                <div className=\"details-info\">\n                    <ul>\n                        <li>\n                            <h4>{product.name}</h4>\n                        </li>\n                        <li>\n                            <h4>{product.description}</h4> \n                        </li>\n                        <li>\n                            <b>{product.price}$</b>\n                        </li>\n                    </ul>\n                </div>\n                <div className=\"details-action\">\n                    <ul>\n                        <li>\n                            Price: {product.price}$\n                        </li>\n                        <li>\n                            Qty: <select value={qty} onChange={(e)=>{setQty(e.target.value)}}>\n                                {[...Array(product.countInStock).keys()].map(x=>\n                                    <option key={x+1} value={x+1}>{x+1}</option>)}\n                            </select>\n                        </li>\n                        <li>\n                            {product.countInStock>0 ?\n                             <button onClick={handleAddToCart} className=\"add-cart-btn\">Add to cart</button>\n                            :<div className=\"out-of-stock\">Not Available</div>}\n                        </li>\n                        </ul>\n                </div>\n\n            </div>\n            )    \n        }\n\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}