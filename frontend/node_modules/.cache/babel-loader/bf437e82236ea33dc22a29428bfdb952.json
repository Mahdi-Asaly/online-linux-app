{"ast":null,"code":"import _regeneratorRuntime from\"/home/mahdi/Desktop/online-shop-linux/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/mahdi/Desktop/online-shop-linux/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{PRODUCT_PAYMENT_REQUEST,PRODUCT_PAYMENT_SUCCESS,PRODUCT_PAYMENT_FAIL,PAYMENT_SAVE_REQUEST,PAYMENT_SAVE_SUCCESS,PAYMENT_SAVE_FAIL}from'../constants/paymentConstants';import axios from'axios';var listPayments=function listPayments(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:PRODUCT_PAYMENT_REQUEST});_context.next=4;return axios.get('/api/payments');case 4:_yield$axios$get=_context.sent;data=_yield$axios$get.data;dispatch({type:PRODUCT_PAYMENT_SUCCESS,payload:data});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);dispatch({type:PRODUCT_PAYMENT_FAIL,payload:_context.t0.message});case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function(_x){return _ref.apply(this,arguments);};}();};var savePayment=function savePayment(payment){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch,getState){var _yield$axios$post,data,_yield$axios$put,_data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:PAYMENT_SAVE_REQUEST,payload:payment});if(payment._id){_context2.next=10;break;}_context2.next=5;return axios.post('/api/payments',payment);case 5:_yield$axios$post=_context2.sent;data=_yield$axios$post.data;dispatch({type:PAYMENT_SAVE_SUCCESS,payload:data});_context2.next=15;break;case 10:_context2.next=12;return axios.put('/api/payments/'+payment._id,payment);case 12:_yield$axios$put=_context2.sent;_data=_yield$axios$put.data;dispatch({type:PAYMENT_SAVE_SUCCESS,payload:_data});case 15:_context2.next=20;break;case 17:_context2.prev=17;_context2.t0=_context2[\"catch\"](0);dispatch({type:PAYMENT_SAVE_FAIL,payload:_context2.t0.message});case 20:case\"end\":return _context2.stop();}}},_callee2,null,[[0,17]]);}));return function(_x2,_x3){return _ref2.apply(this,arguments);};}();};export{listPayments,savePayment};","map":{"version":3,"sources":["/home/mahdi/Desktop/online-shop-linux/frontend/src/actions/paymentActions.js"],"names":["PRODUCT_PAYMENT_REQUEST","PRODUCT_PAYMENT_SUCCESS","PRODUCT_PAYMENT_FAIL","PAYMENT_SAVE_REQUEST","PAYMENT_SAVE_SUCCESS","PAYMENT_SAVE_FAIL","axios","listPayments","dispatch","type","get","data","payload","message","savePayment","payment","getState","_id","post","put"],"mappings":"uUAAA,OACIA,uBADJ,CAEIC,uBAFJ,CAGIC,oBAHJ,CAIIC,oBAJJ,CAKIC,oBALJ,CAMIC,iBANJ,KAOS,+BAPT,CAQE,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,kGAAM,iBAAOC,QAAP,4JAEvBA,QAAQ,CAAC,CAAEC,IAAI,CAAET,uBAAR,CAAD,CAAR,CAFuB,sBAGAM,CAAAA,KAAK,CAACI,GAAN,CACrB,eADqB,CAHA,uCAGfC,IAHe,kBAGfA,IAHe,CAMvBH,QAAQ,CAAC,CAAEC,IAAI,CAAER,uBAAR,CAAiCW,OAAO,CAAED,IAA1C,CAAD,CAAR,CANuB,+EAQvBH,QAAQ,CAAC,CAAEC,IAAI,CAAEP,oBAAR,CAA8BU,OAAO,CAAE,YAAMC,OAA7C,CAAD,CAAR,CARuB,oEAAN,gEAArB,CAaA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,OAAD,kGAAa,kBAAOP,QAAP,CAAiBQ,QAAjB,yLAE7BR,QAAQ,CAAC,CAAEC,IAAI,CAAEN,oBAAR,CAA8BS,OAAO,CAAEG,OAAvC,CAAD,CAAR,CAF6B,GAGxBA,OAAO,CAACE,GAHgB,kDAIJX,CAAAA,KAAK,CAACY,IAAN,CAAW,eAAX,CAA4BH,OAA5B,CAJI,yCAInBJ,IAJmB,mBAInBA,IAJmB,CAK3BH,QAAQ,CAAC,CAAEC,IAAI,CAAEL,oBAAR,CAA8BQ,OAAO,CAAED,IAAvC,CAAD,CAAR,CAL2B,wDAOJL,CAAAA,KAAK,CAACa,GAAN,CACrB,iBAAmBJ,OAAO,CAACE,GADN,CACUF,OADV,CAPI,yCAOnBJ,KAPmB,kBAOnBA,IAPmB,CAS3BH,QAAQ,CAAC,CAAEC,IAAI,CAAEL,oBAAR,CAA8BQ,OAAO,CAAED,KAAvC,CAAD,CAAR,CAT2B,6FAY7BH,QAAQ,CAAC,CAAEC,IAAI,CAAEJ,iBAAR,CAA2BO,OAAO,CAAE,aAAMC,OAA1C,CAAD,CAAR,CAZ6B,uEAAb,sEAApB,CAkBA,OACEN,YADF,CAEEO,WAFF","sourcesContent":["import {\n    PRODUCT_PAYMENT_REQUEST,\n    PRODUCT_PAYMENT_SUCCESS,\n    PRODUCT_PAYMENT_FAIL,\n    PAYMENT_SAVE_REQUEST,\n    PAYMENT_SAVE_SUCCESS,\n    PAYMENT_SAVE_FAIL\n  } from '../constants/paymentConstants';\n  import axios from 'axios';\n  \n  \n  \n  const listPayments = () => async (dispatch) => {\n    try {\n      dispatch({ type: PRODUCT_PAYMENT_REQUEST });\n      const { data } = await axios.get(\n        '/api/payments'\n      );\n      dispatch({ type: PRODUCT_PAYMENT_SUCCESS, payload: data });\n    } catch (error) {\n      dispatch({ type: PRODUCT_PAYMENT_FAIL, payload: error.message });\n    }\n  };\n\n\n  const savePayment = (payment) => async (dispatch, getState) => {\n    try {\n      dispatch({ type: PAYMENT_SAVE_REQUEST, payload: payment });\n      if (!payment._id) {\n        const { data } = await axios.post('/api/payments', payment);\n        dispatch({ type: PAYMENT_SAVE_SUCCESS, payload: data });\n      } else {\n        const { data } = await axios.put(\n          '/api/payments/' + payment._id,payment);\n        dispatch({ type: PAYMENT_SAVE_SUCCESS, payload: data });\n      }\n    } catch (error) {\n      dispatch({ type: PAYMENT_SAVE_FAIL, payload: error.message });\n    }\n  };\n  \n\n\n  export {\n    listPayments,\n    savePayment,\n  };"]},"metadata":{},"sourceType":"module"}