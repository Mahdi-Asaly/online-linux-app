{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{listProducts}from'../actions/productActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function HomeScreen(props){var productList=useSelector(function(state){return state.productList;});var products=productList.products,loading=productList.loading,error=productList.error;var cart=useSelector(function(state){return state.cart;});var cartItems=cart.cartItems;var dispatch=useDispatch();//fetching data from server\nuseEffect(function(){dispatch(listProducts());return function(){};},[]);var handleAddToCart=function handleAddToCart(id,name){props.history.push(\"/cart/\"+id+\"?qty=\"+1);};return loading?/*#__PURE__*/_jsx(\"div\",{children:\"loading..\"}):error?/*#__PURE__*/_jsx(\"div\",{children:error}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"ul\",{className:\"products\",children:products.map(function(product){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"product\",children:[/*#__PURE__*/_jsx(Link,{to:'/product/'+product._id,children:/*#__PURE__*/_jsx(\"img\",{className:\"product-image\",src:product.urlImg,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"product-name\",children:/*#__PURE__*/_jsx(Link,{to:'/product/'+product._id,children:product.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"product-description\",children:product.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-price\",children:[\"$\",product.price]}),/*#__PURE__*/_jsx(\"button\",{className:\"pay-button\",id:product._id,onClick:function onClick(){return handleAddToCart(product._id,product.name);},children:\"Add To Cart\"})]})},product._id);})})});}export default HomeScreen;","map":{"version":3,"sources":["/home/mahdi/Desktop/online-shop-linux/frontend/src/screens/HomeScreen.js"],"names":["React","useState","useEffect","Link","useSelector","useDispatch","listProducts","HomeScreen","props","productList","state","products","loading","error","cart","cartItems","dispatch","handleAddToCart","id","name","history","push","map","product","_id","urlImg","description","price"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAA0C,OAA1C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAwC,aAAxC,CACA,OAASC,YAAT,KAA4B,2BAA5B,C,wFAEA,QAASC,CAAAA,UAAT,CAAqBC,KAArB,CAA2B,CACvB,GAAMC,CAAAA,WAAW,CAAGL,WAAW,CAAC,SAAAM,KAAK,QAAGA,CAAAA,KAAK,CAACD,WAAT,EAAN,CAA/B,CACA,GAAQE,CAAAA,QAAR,CAAsCF,WAAtC,CAAQE,QAAR,CAAkBC,OAAlB,CAAsCH,WAAtC,CAAkBG,OAAlB,CAA4BC,KAA5B,CAAsCJ,WAAtC,CAA4BI,KAA5B,CAEA,GAAMC,CAAAA,IAAI,CAAGV,WAAW,CAAC,SAAAM,KAAK,QAAIA,CAAAA,KAAK,CAACI,IAAV,EAAN,CAAxB,CACA,GAAOC,CAAAA,SAAP,CAAoBD,IAApB,CAAOC,SAAP,CAEA,GAAMC,CAAAA,QAAQ,CAAGX,WAAW,EAA5B,CAEA;AACAH,SAAS,CAAC,UAAI,CACVc,QAAQ,CAACV,YAAY,EAAb,CAAR,CACA,MAAO,WAAI,CAEV,CAFD,CAGH,CALQ,CAKP,EALO,CAAT,CAQA,GAAMW,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,EAAD,CAAIC,IAAJ,CAAa,CACjCX,KAAK,CAACY,OAAN,CAAcC,IAAd,CAAmB,SAAWH,EAAX,CAAc,OAAd,CAAuB,CAA1C,EACD,CAFH,CAIA,MAAON,CAAAA,OAAO,cAAE,kCAAF,CAAuBC,KAAK,cAAG,qBAAMA,KAAN,EAAH,cAAuB,kCAEjE,WAAI,SAAS,CAAC,UAAd,UAEIF,QAAQ,CAACW,GAAT,CAAa,SAAAC,OAAO,qBAChB,iCACA,aAAK,SAAS,CAAC,SAAf,wBACA,KAAC,IAAD,EAAM,EAAE,CAAE,YAAcA,OAAO,CAACC,GAAhC,uBACK,YAAK,SAAS,CAAC,eAAf,CAA+B,GAAG,CAAED,OAAO,CAACE,MAA5C,CAAoD,GAAG,CAAC,EAAxD,EADL,EADA,cAIA,YAAK,SAAS,CAAC,cAAf,uBACI,KAAC,IAAD,EAAM,EAAE,CAAE,YAAcF,OAAO,CAACC,GAAhC,UAAsCD,OAAO,CAACJ,IAA9C,EADJ,EAJA,cAOA,YAAK,SAAS,CAAC,qBAAf,UAAsCI,OAAO,CAACG,WAA9C,EAPA,cAQA,aAAK,SAAS,CAAC,eAAf,eAAiCH,OAAO,CAACI,KAAzC,GARA,cASA,eAAQ,SAAS,CAAC,YAAlB,CAA+B,EAAE,CAAEJ,OAAO,CAACC,GAA3C,CACC,OAAO,CAAE,yBAAMP,CAAAA,eAAe,CAACM,OAAO,CAACC,GAAT,CAAaD,OAAO,CAACJ,IAArB,CAArB,EADV,yBATA,GADA,EAASI,OAAO,CAACC,GAAjB,CADgB,EAApB,CAFJ,EAFiE,EAAjE,CAuBH,CAED,cAAejB,CAAAA,UAAf","sourcesContent":["import React, {useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch} from 'react-redux';\nimport { listProducts} from '../actions/productActions';\n\nfunction HomeScreen (props){\n    const productList = useSelector(state=> state.productList);\n    const { products, loading , error } = productList;\n\n    const cart = useSelector(state => state.cart);\n    const {cartItems} = cart;\n\n    const dispatch = useDispatch();\n\n    //fetching data from server\n    useEffect(()=>{\n        dispatch(listProducts());\n        return ()=>{\n\n        };\n    },[])\n\n\n    const handleAddToCart = (id,name) => {\n        props.history.push(\"/cart/\" + id+\"?qty=\"+ 1)\n      };\n    \n    return loading? <div>loading..</div>:error ? <div>{error}</div>: <div>    \n\n    <ul className=\"products\">\n    {\n        products.map(product => \n            <li key={product._id}>\n            <div className=\"product\">\n            <Link to={'/product/' + product._id}>\n                 <img className=\"product-image\" src={product.urlImg} alt='' />\n            </Link>\n            <div className=\"product-name\">\n                <Link to={'/product/' + product._id}>{product.name}</Link>\n                </div>\n            <div className=\"product-description\">{product.description}</div>\n            <div className=\"product-price\">${product.price}</div>\n            <button className=\"pay-button\" id={product._id}\n             onClick={() => handleAddToCart(product._id,product.name)}>Add To Cart\n           </button>\n            </div> \n            </li>\n        )\n    }\n  </ul></div>\n}\n\nexport default HomeScreen;"]},"metadata":{},"sourceType":"module"}